@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
<!-- Web fonts/Icons -->
<link rel="stylesheet" href="~/Legacy/fonts/opensans/stylesheet.css">
<link rel="stylesheet" href="~/Legacy/fonts/ionicons/ionicons.min.css">
<link rel="stylesheet" href="~/Legacy/fonts/fontawesome/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
<!-- Vendor CSS -->
<link rel="stylesheet" href="~/Legacy/css/bootstrap.min.css">
<link rel="stylesheet" href="~/Legacy/js/lib/swiper.min.css">
<link rel="stylesheet" href="~/Legacy/js/lib/jquery.fullpage.min.css">
<link rel="stylesheet" href="~/Legacy/js/lib/vegas/vegas.min.css">

<!-- Main CSS files -->
<link rel="stylesheet" href="~/Legacy/css/style.css">
<style>
    h5, h2, h3, p, li, blockquote, input, video, label {
        color: white;
    }
</style>
<!-- Page Loader -->
<div class="pageloader" id="pageloader">
    <div>
        <div class="icon ion-spin"></div>
    </div>
</div>

<div class="page-main page-fullpage main-anim" id="itempage">
    <div class="section section-twoside fp-auto-height-responsive section-item padding-none" data-section="item-alpha">
        <div class="section-cover-tier mask-black"></div>
        <div class="section-wrapper largewidth">
            <div class="item row">
                <div class="col-12 col-md-12 center-vh">
                    <div class="section-content anim">
                        <article class="article article-light">
                            <div class="article-content">
                                <div class="wrapper">
                                    <h2>Face detection with opencv & webassembly</h2>
                                    <div class="info-small">
                                        <p><i class="icon ion-calendar"></i>4/2/2022</p>
                                        <p><i class="icon ion-link"></i> <a href="#"></a></p>
                                    </div>

                                    <div class="item row justify-content-between mt-5">
                                        <div class="col-12 col-md-12 col-lg-12">
                                            <div class="section-content anim">
                                                <div class="images text-center">
                                                    <!--<a class="btn btn-outline-white border-0" id="showVisionCode">-->
                                                    <div id="container" style="margin: auto;">
                                                        <canvas class="center-block" id="canvasOutput" width=320 height=240></canvas>
                                                    </div>
                                                    <div class="invisible">
                                                        <input type="checkbox" id="face" name="classifier" value="face" checked>
                                                        <label for="face">face</label>
                                                        <input type="checkbox" id="eye" name="cascade" value="eye">
                                                        <label for="eye">eye</label>
                                                    </div>
                                                    <div class="invisible">
                                                        <video id="video" class="hidden">Your browser does not support the video tag.</video>
                                                    </div>
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <p>NOTE: make sure you have a webcam and approve the usage of it.</p>
                                    <p>
                                        Here is a demo of using the opencv library and webassembly to put face & eye detection on the web. To do this you need to first load in the web assembly
                                        Module via async and once loaded, it calls the main function in javascript. In the main function, it collects the camera media to get the frames
                                        from the camera, and process each frame pixel by pixel. Whenn a group of pixels are matched to a feature that is based on the trained haarcascade
                                        file, it draws a rectagle showing that this is a face, or this is an eye.
                                    </p>

                                    <blockquote>
                                        Opencv is built for vision processig tools for various languages. I have worked with opencv with C++, python, java and even C# .NET with
                                        the opencv emgu library wrapper. Opencv was first built in 1999 by intel for research into high intense CPU based applicatins. Later was designed
                                        for vision processing as an open source project, <a target="_blank" href="https://opencv.org/">OpeCV Home Page</a>. Recently with my OLED glasses
                                        page, I am making a version 2.0 of the glasses that uses OpenCV and a neural network model called Yolov4, which was built be darknet <a href="https://pjreddie.com/darknet/">DarkNet Website.</a>

                                    </blockquote>
                                </div>
                            </div>
                        </article>

                        <!--<div class="btns-action row item-buttons">
                            <div class="col-md-12 item-buttons-next">
                                <a class="btn btn-outline-white border-0" href="oled_glasses.html">
                                    <i class="icon fa fa-arrow-circle-left mr-2"></i>
                                    <span class="txt">Prev</span>
                                </a>
                                <a class="btn btn-outline-white border-0" href="NodeItem.html">
                                    <span class="txt">Next</span>
                                    <i class="icon fa fa-arrow-circle-right ml-2"></i>
                                </a>
                            </div>
                        </div>-->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End Content -->
<!-- Start Footer -->
<div id="site-footer" class="page-footer">
    <!-- Left content -->
    <div class="footer-left">
        <span class="opacity-75"><i class="icon ion-android-call"></i>+ 01 234 567 89</span>
        <span class="opacity-75"><i class="icon ion-email"></i>malena@support.com</span>
    </div>

    <!-- Right content -->
    <div class="footer-right">
    </div>
</div>


<!-- End Footer  -->
<!-- Scripts -->
<script src="~/Legacy/js/lib/jquery-1.12.4.min.js"></script>
<script src="~/Legacy/js/lib/scrolloverflow.min.js"></script>
<script src="~/Legacy/js/lib/all.js"></script>
<script src="~/Legacy/js/lib/particlejs/particles.min.js"></script>

<!-- Main Script files -->
<script src="~/Legacy/js/custom.js"></script>
<script src="~/Legacy/opencv/stats.min.js"></script>
<script src="~/Legacy/opencv/dat.gui.min.js"></script>
<script src="~/Legacy/opencv/utils.js"></script>
<script src="~/Legacy/opencv/index.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
<script>
    var featuresReady = checkFeatures(document.getElementById("info"), { webrtc: true, wasm: true });
    var baseUrl = '@Url.Content("~/")';
</script>

<script type="text/javascript">

    var Module = {
        wasmBinaryFile: baseUrl + 'Legacy/opencv/build/wasm/opencv_js.wasm',
        preRun: [function () {
            Module.FS_createPreloadedFile('/', 'haarcascade_eye.xml', baseUrl + 'Legacy/opencv/data/haarcascade_eye.xml', true, false);
            Module.FS_createPreloadedFile('/', 'haarcascade_frontalface_default.xml', baseUrl + 'Legacy/opencv/data/haarcascade_frontalface_default.xml', true, false);
            Module.FS_createPreloadedFile('/', 'haarcascade_profileface.xml', baseUrl + 'Legacy/opencv/data/haarcascade_profileface.xml', true, false);
        }],
        _main: function () { opencvIsReady(); }
    };

</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
<script>
    $(document).ready(() => {
        $('body').find('#showVisionCode').on('click', function (e) {
            e.preventDefault();
            console.log('click');
            $('body').find('#visionCode').modal();

        });
    });
</script>
<script async src="~/Legacy/opencv/build/wasm/opencv.js"></script>


